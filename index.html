<!--

GBA ONLINE;  GBA.JS.ORG;  "Online GameBoy Advance Emulator"
Copyright (C) 2021-present AYVACS
Licensed under the MIT License (view LICENSE.md for more information)

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Emerald ROM Hack</title>
    <script src="iodinegba/core/emulator.js"></script>
    <link rel="stylesheet" href="style.css"> <!-- If you have any styles -->
</head>
<body>
    <h1>Welcome to Pokémon Emerald!</h1>
    <p>Your ROM hack is loading...</p>
    
    <script>
        // Create a settings object (you may need to customize this)
        var settings = {
            SKIPBoot: false, // or true based on your needs
            // Add other necessary settings here
        };

        // Create an instance of the I/O core
        var ioCore = new GameBoyAdvanceIO(settings.SKIPBoot, {}, null, 'binaries/max_random.gba'); // Pass empty object for coreExposed and null for BIOS if not used

        // Initialize the emulator with the I/O core
        var gba = new IodineGBA(ioCore);

        // Load the ROM file
        gba.loadRomFromFile('binaries/max_random.gba'); // Ensure the path is correct

        // Start the emulator
        gba.run(); // Start the emulation process

        // Handle errors or loading states
        gba.onError = function(error) {
            console.error("Error loading ROM:", error);
            document.body.innerHTML = "<h1>Error loading ROM!</h1><p>" + error + "</p>";
        };

        gba.onLoad = function() {
            console.log("ROM loaded successfully.");
            document.body.innerHTML = "<h1>ROM Loaded!</h1><p>Enjoy your game!</p>";
        };
    </script>
</body>
</html>

